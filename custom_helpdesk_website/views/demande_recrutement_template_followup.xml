<odoo>
    <data>


        <template id="tickets_followup_demande_recrutement" name="Helpdesk Tickets">
            <t t-set="dr_metier_commerce_ids" t-value="request.env['dr.metier'].sudo().search([('is_commerce', '=', True)]).ids"/>
            <t t-set="dr_metier_autre_ids" t-value="request.env['dr.metier'].sudo().search([('is_autre', '=', True)]).ids"/>
            <t t-set="attachement_records" t-value="request.env['ir.attachment'].sudo().search([('res_model', '=', 'helpdesk.ticket'), ('res_id', '=', ticket.id), ('name', '!=', '')])"/>
        <t  t-call="portal.portal_layout">
            <t t-set="wrapwrap_classes" t-value="'o_portal_bg_dark'"/>

            <t t-set="o_portal_fullwidth_alert" groups="helpdesk.group_helpdesk_user">
                <t t-call="portal.portal_back_in_edit_mode">
                    <t t-set="backend_url" t-value="'/web#model=helpdesk.tickett&amp;id=%s&amp;view_type=form' % (ticket.id)"/>
                </t>
            </t>

            <div class="row mt16 o_project_portal_sidebar">
                <t t-call="portal.portal_record_sidebar">
                    <t t-set="classes" t-value="'col-lg-auto d-print-none'"/>

                    <t t-set="entries">
                        <ul class="list-group list-group-flush flex-wrap flex-row flex-lg-column">
                            <li t-if="ticket.team_id.allow_portal_ticket_closing and not ticket.stage_id.fold and not ticket.closed_by_partner" class="list-group-item flex-grow-1">
                                <div class="d-grid flex-sm-nowrap">
                                    <button class="btn btn-secondary pt-1" data-bs-target="#helpdesk_ticket_close_modal" data-bs-toggle="modal">
                                        Close Ticket
                                    </button>
                                </div>

                                <div class="modal" tabindex="-1" role="dialog" id="helpdesk_ticket_close_modal">
                                    <div class="modal-dialog mt-5" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title">Close ticket</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <p>Are you sure you wish to proceed?</p>
                                            </div>
                                            <div class="modal-footer">
                                                <a role="button" class="btn btn-primary" t-att-href="'/my/tickett/close/%s/%s' % (ticket.id, ticket.access_token)">Close the ticket</a>
                                                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Discard</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="ticket-nav" class="list-group-item ps-0 flex-grow-1" t-ignore="true" role="complementary">
                                <ul class="nav flex-column">
                                    <li class="nav-item" id="nav-header">
                                        <a class="nav-link ps-3" href="#card_header" style="max-width: 200px;">
                                            Ticket
                                        </a>
                                    </li>
                                    <li class="nav-item" id="nav-chat">
                                        <a class="nav-link ps-3" href="#ticket_chat">
                                            History
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li id="ticket-links" t-if="ticket_link_section" class="list-group-item flex-grow-1" t-ignore="true" role="complementary" invisible="1">
                                <ul class="nav flex-column">
                                    <t t-foreach="sorted(ticket_link_section, key=lambda r: r['sequence'])" t-as="ticket_link">
                                        <li class="nav-item">
                                            <a class="nav-link ps-0" t-att-href="ticket_link['access_url']">
                                                <t t-out="ticket_link['title']"/>
                                            </a>
                                        </li>
                                    </t>
                                </ul>
                            </li>

                            <li t-if="ticket.user_id or ticket.partner_id" class="list-group-item flex-grow-1">
                                <div class="col-12 col-md-12 pb-2" t-if="ticket.user_id">
                                    <strong>Assigned to</strong>
                                    <div class="d-flex ps-3 flex-nowrap">
                                        <img class="rounded-circle mt-1 o_portal_contact_img" t-att-src="image_data_uri(ticket.user_id.avatar_1024)" alt="Contact"/>
                                        <div class="ms-2">
                                            <div t-out="ticket.user_id" t-options='{"widget": "contact", "fields": ["name"]}' class="mt-2"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-12 pb-2" t-if="ticket.partner_id">
                                    <strong>Client</strong>
                                    <div class="d-flex ps-3 flex-nowrap">
                                        <img class="rounded-circle mt-1 o_portal_contact_img" t-att-src="image_data_uri(ticket.partner_id.avatar_1024)" alt="Contact"/>
                                        <div class="ms-2">
                                            <div t-field="ticket.partner_id" t-options='{"widget": "contact", "fields": ["name"]}'/>
                                            <a t-attf-href="mailto:{{ticket.partner_id.email}}" t-if="ticket.partner_id.email"><div t-field="ticket.partner_id" t-options='{"widget": "contact", "fields": ["email"]}'/></a>
                                            <a t-attf-href="tel:{{ticket.partner_id.phone}}" t-if="ticket.partner_id.phone"><div t-field="ticket.partner_id" t-options='{"widget": "contact", "fields": ["phone"]}'/></a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </t>
                </t>
                <div id="ticket_content" class="col-12 col-lg justify-content-end">
                    <div id="card" class="card">
                        <div id="card_header" class="card-header container" data-anchor="true">
                            <div class="row gs-0">
                                <div class="col-md">
                                    <h5 class="row mx-1 mb-1 mb-md-0">
                                        <div class="col-8 text-truncate">
                                            <span t-field="ticket.name"/>
                                            <small class="text-muted "> (#<span t-field="ticket.id"/>)</small>
                                        </div>
                                        <div class="col-4 text-end">
                                            <small class="text-end">Status:</small>
                                            <span t-field="ticket.stage_id.name" class=" badge rounded-pill text-bg-info" title="Current stage of this ticket"/>
                                        </div>
                                    </h5>
                                </div>
                            </div>
                        </div>
                        <div id="card_body" class="card-body">
                           
                            <div class="form_group">

                                <t t-if="ticket.stage_id.etape == 'dr_demande'">

                                    <form id="demande_recrutement_form_open" role="form" action="/demande_recrutement/demandeur_update" method="POST" enctype="multipart/form-data">

                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <br/>
                                        <input type="hidden" name="demande_recrutement_id" t-att-value="ticket.id"/>
                                        <input type="hidden" name="demande_recrutement_poste_a_choisir_id" t-att-value="ticket.poste_a_choisir.id"/>
                                        <input type="hidden" name="demande_recrutement_metier_a_choisir_id" id="demande_recrutement_metier_a_choisir_id" t-att-value="ticket.metier_a_choisir_id.id"/>
                                        
                                        
                                        
                                        

                                        <div style="overflow: hidden;position:relative">
                                    
                                            <div style="float:left;width:45%;">

                                                <label for="nom_du_demandeur_a_afficher" class="control-label"><strong>Nom du demandeur</strong></label>
                                                <input type="text" name="nom_du_demandeur_a_afficher" class="form-control" t-att-value="ticket.partner_id.name" readonly="1"/>
                                                <br/>

                                                <t t-set="res_partner_records" t-value="request.env['res.partner'].sudo().search([])"/>
                                                <label for="manager_recrutement" id="label_manager_recrutement">Manager</label>
                                                <select id="manager_recrutement" name="manager_recrutement" class="form-select" required="required">
                                                    <option value=""></option>
                                                    <t t-foreach="res_partner_records" t-as="record">
                                                        <option t-att-value="record.id" t-att-selected="ticket.manager_recrutement.id == record.id and 'selected' or None"><t t-esc="record.name"/></option>
                                                    </t>

                                                </select>
                                                <br/>

                                                <label for="etablissement" class="control-label"><strong>Site de recrutement</strong></label>
                                                <select id="etablissement" name="etablissement" class="form-select" onchange="OnChange_etablissement_select(this)" required="required">
                                                    <option value=""></option>
                                                    <option value="MONTAIGU" t-att-selected="ticket.etablissement == 'MONTAIGU' and 'selected' or None">MONTAIGU</option>
                                                    <option value="LISSES" t-att-selected="ticket.etablissement == 'LISSES' and 'selected' or None">LISSES</option>
                                                    <option value="PARIS" t-att-selected="ticket.etablissement == 'PARIS' and 'selected' or None">PARIS</option>
                                                    <option value="GESLOT" t-att-selected="ticket.etablissement == 'GESLOT' and 'selected' or None">GESLOT</option>
                                                    <option value="BOURGOIN" t-att-selected="ticket.etablissement == 'BOURGOIN' and 'selected' or None">BOURGOIN</option>
                                                    <option value="CASTELNAU" t-att-selected="ticket.etablissement == 'CASTELNAU' and 'selected' or None">CASTELNAU</option>


                                                </select>
                                                <br/>

                                                <label for="rrh" class="control-label"><strong>RRH</strong></label>
                                                <select id="rrh" name="rrh" class="form-select" disabled="disabled">
                                                    <option value=""></option>
                                                    <option value="Juliette FABIEN" t-att-selected="ticket.rrh == 'Juliette FABIEN' and 'selected' or None">Juliette FABIEN</option>
                                                    <option value="Carole LARRAUD" t-att-selected="ticket.rrh == 'Carole LARRAUD' and 'selected' or None">Carole LARRAUD</option>
                                                    <option value="Coralie BERTHET" t-att-selected="ticket.rrh == 'Coralie BERTHET' and 'selected' or None">Coralie BERTHET</option>

                                                </select>
                                                <br/>

                                                <t t-set="dr_direction_records" t-value="request.env['dr.direction'].sudo().search([])"/>
                                                <label for="direction_a_choisir_id" id="label_direction_a_choisir_id">Direction</label>
                                                <select id="direction_a_choisir_id" name="direction_a_choisir_id" class="form-select" required="required">
                                                    <option value=""></option>
                                                    <t t-foreach="dr_direction_records" t-as="record">
                                                        <option t-att-value="record.id" t-att-selected="ticket.direction_a_choisir_id.id == record.id and 'selected' or None"><t t-esc="record.name"/></option>
                                                    </t>

                                                </select>
                                                <br/>

                                                <label for="metier_a_choisir_id" id="label_metier_a_choisir_id">Métier</label>
                                                <select id="metier_a_choisir_id" name="metier_a_choisir_id" class="form-select" required="required" onchange="OnChange_metier_a_choisir_id_select(this)">
                                                    <option value=""></option>
                                                    
                                                </select>
                                                <br/>

                                                <div id="poste_a_choisir_div">
                                                    <label for="poste_a_choisir" id="label_poste_a_choisir">Poste</label>
                                                    <select id="poste_a_choisir" name="poste_a_choisir" class="form-select" required="required">
                                                        <option value=""></option>
                                                        
                                                    </select>
                                                    <br/>
                                                </div>

                                                <div id="poste_a_choisir_autre_div" style="display:none">
                                                    <label for="poste_a_choisir_autre" id="label_poste_a_choisir_autre" class="control-label"><strong>Poste</strong></label>
                                                    <input type="text" id="poste_a_choisir_autre" name="poste_a_choisir_autre" class="form-control" t-att-value="ticket.poste_a_choisir_autre"/>
                                                    <br/>
                                                </div>

                                                <label for="commentaire_demandeur" id="label_commentaire_demandeur" class="control-label"><strong>Commentaire</strong></label>
                                                <input type="text" id="commentaire_demandeur" name="commentaire_demandeur" class="form-control"  t-att-value="ticket.commentaire_demandeur"/>

                                                

                                            </div>

                                            <div style="float:right;width:45%">
                                                

                                            <label for="date_de_creation_a_afficher" class="control-label"><strong>Date de création</strong></label>
                                            <input type="text" name="date_de_creation_a_afficher" class="form-control" t-att-value="ticket.date_de_creation_a_afficher.strftime('%d/%m/%Y')" readonly="1"/>
                                                

                                                <br/>
                                                <label for="motif_de_recrutement" class="control-label"><strong>Motif de recrutement</strong></label>
                                                <select id="motif_de_recrutement" name="motif_de_recrutement" class="form-select" onchange="OnChange_motif_de_recrutement_select(this)" required="required">
                                                    <option value=""></option>
                                                    <option value="Création" t-att-selected="ticket.motif_de_recrutement == 'Création' and 'selected' or None">Création</option>
                                                    <option value="Remplacement Départ CDI" t-att-selected="ticket.motif_de_recrutement == 'Remplacement Départ CDI' and 'selected' or None">Remplacement Départ CDI</option>
                                                    <option value="Remplacement Départ CDD" t-att-selected="ticket.motif_de_recrutement == 'Remplacement Départ CDD' and 'selected' or None">Remplacement Départ CDD</option>
                                                    <option value="Remplacement interimaire" t-att-selected="ticket.motif_de_recrutement == 'Remplacement interimaire' and 'selected' or None">Remplacement interimaire</option>
                                                    <option value="Remplacement CDI AML/AT/etc." t-att-selected="ticket.motif_de_recrutement == 'Remplacement CDI AML/AT/etc.' and 'selected' or None">Remplacement CDI AML/AT/etc.</option>
                                                </select>

                                                <br/>

                                                
                                                <label for="si_remplacement_qui" id="label_si_remplacement_qui" class="control-label" style="display:none"><strong>Personne remplacée</strong></label>
                                                <input type="text" name="si_remplacement_qui" id="si_remplacement_qui" t-att-value="ticket.si_remplacement_qui" class="form-control"  style="display:none"/>
                                                
                                                
                                                <br/>
                                                <label for="type_contrat" class="control-label"><strong>Type de contrat souhaité</strong></label>
                                                <select id="type_contrat" name="type_contrat" class="form-select" onchange="OnChange_type_contrat_select(this)" required="required">
                                                    <option value=""></option>
                                                    <option value="CDI" t-att-selected="ticket.type_contrat == 'CDI' and 'selected' or None">CDI</option>
                                                    <option value="CDD" t-att-selected="ticket.type_contrat == 'CDD' and 'selected' or None">CDD</option>
                                                    <option value="Saisonnier" t-att-selected="ticket.type_contrat == 'Saisonnier' and 'selected' or None">Saisonnier</option>
                                                    <option value="Stage" t-att-selected="ticket.type_contrat == 'Stage' and 'selected' or None">Stage</option>
                                                    <option value="Alternant" t-att-selected="ticket.type_contrat == 'Alternant' and 'selected' or None">Alternant</option>
                                                </select>
                                                <br/>

                                                <label for="date_de_debut_souhaite" id="label_date_de_debut_souhaite" class="control-label"><strong>Date de début souhaitée</strong></label>
                                                <input type="date" id ="date_de_debut_souhaite" name="date_de_debut_souhaite" class="form-control" t-att-value="ticket.date_de_debut_souhaite"/>
                                                <br/>
                                            
                                                <label for="date_de_debut" id="label_date_de_debut" class="control-label"><strong>Date de début</strong></label>
                                                <input type="date" id ="date_de_debut" name="date_de_debut" class="form-control" t-att-value="ticket.date_de_debut"/>
                                                <br/>

                                                <label for="date_de_fin" id="label_date_de_fin" class="control-label"><strong>Date de fin</strong></label>
                                                <input type="date" data-date-format="YYYY-MM-DD" id ="date_de_fin" name="date_de_fin" class="form-control" t-att-value="ticket.date_de_fin"/>
                                                <br/>

                                                <label for="missions_principales" class="control-label"><strong>Missions principales</strong></label>
                                                <input type="text" name="missions_principales" class="form-control" t-att-value="ticket.missions_principales"/>

                                                <br/>
                                                        
                                            </div>

                                        </div>
                                        <br/>


                                            <div id="commercial" style="overflow: hidden;position:relative;">
                                        
                                                <div style="float:left;width:45%;">

                                                    <label for="secteur_geographique" id="label_secteur_geographique" class="control-label"><strong>Secteur géographique</strong></label>
                                                    <input type="text" name="secteur_geographique" id="secteur_geographique" t-att-value="ticket.secteur_geographique" class="form-control"/>
                                                    
                                                    <br/>
                                                    <label for="specificite_clients" id="label_specificite_clients" class="control-label"><strong>Type Clientèle</strong></label>
                                                    <select id="specificite_clients" name="specificite_clients" class="form-select">
                                                        <option value=""></option>
                                                        <option value="Détail" t-att-selected="ticket.specificite_clients == 'Détail' and 'selected' or None">Détail</option>
                                                        <option value="Pétrolier" t-att-selected="ticket.specificite_clients == 'Pétrolier' and 'selected' or None">Pétrolier</option>
                                                        <option value="GMS" t-att-selected="ticket.specificite_clients == 'GMS' and 'selected' or None">GMS</option>
                                                        <option value="Hybride" t-att-selected="ticket.specificite_clients == 'Hybride' and 'selected' or None">Hybride</option>
                                                        <option value="Autres" t-att-selected="ticket.specificite_clients == 'Autres' and 'selected' or None">Autres</option>
                                                    </select>

                                                    <br/>
                                                    <label for="lieu_habitation_souhaite" id="label_lieu_habitation_souhaite" class="control-label"><strong>Lieu d’habitation souhaité</strong></label>
                                                    <input type="text" name="lieu_habitation_souhaite" id="lieu_habitation_souhaite" class="form-control" t-att-value="ticket.lieu_habitation_souhaite"/>

                                                </div>

                                                <div style="float:right;width:45%">
                                                    <table class="table" border="0">
                                                    <tr>
                                                        <th width="50%"></th>
                                                        <th>Actuel</th>
                                                        <th>Visé</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Chiffre d’affaires du secteur</th>
                                                        <td><input type="text" name="chiffre_affaires_du_secteur_actuel" class="form-control" t-att-value="ticket.chiffre_affaires_du_secteur_actuel"/></td>
                                                        <td><input type="text" name="chiffre_affaires_du_secteur_vise" class="form-control" t-att-value="ticket.chiffre_affaires_du_secteur_vise"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Evaluation rémunération annuelle</th>
                                                        <td><input type="text" name="evaluation_remuneration_annuelle_actuel" class="form-control" t-att-value="ticket.evaluation_remuneration_annuelle_actuel"/></td>
                                                        <td><input type="text" name="evaluation_remuneration_annuelle_vise" class="form-control" t-att-value="ticket.evaluation_remuneration_annuelle_vise"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Garantie de salaire</th>
                                                        <td><input type="text" name="garantie_de_salaire_actuel" class="form-control" t-att-value="ticket.garantie_de_salaire_actuel"/></td>
                                                        <td><input type="text" name="garantie_de_salaire_vise" class="form-control" t-att-value="ticket.garantie_de_salaire_vise"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Nombre de clients</th>
                                                        <td><input type="text" name="nombre_de_clients_actuel" class="form-control" t-att-value="ticket.nombre_de_clients_actuel"/></td>
                                                        <td><input type="text" name="nombre_de_clients_vise" class="form-control" t-att-value="ticket.nombre_de_clients_vise"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Panier moyen</th>
                                                        <td><input type="text" name="panier_moyen_actuel" class="form-control" t-att-value="ticket.panier_moyen_actuel"/></td>
                                                        <td><input type="text" name="panier_moyen_vise" class="form-control" t-att-value="ticket.panier_moyen_vise"/></td>
                                                    </tr>
                                                    
                                                </table>

                                                    <br/>
                                                    <label for="attachment" id="label_piece_jointe" class="control-label"><strong>Pièce jointe</strong></label>
                                                    <input type="file" id="upload_files" name="upload_files" multiple="multiple"/>
                                                    <br/>

                                                    <t t-foreach="attachement_records" t-as="attachment">

                                                        <div t-att-id="'attachment-div-oe-att-'+str(attachment.id)">

                                                            <a t-att-href="'/download/file/%s' % attachment.id">
                                                                <t t-esc="attachment.name"/>
                                                            </a>
                                                            <button type="button" class="btn btn-danger btn-delete-attachment" t-att-data-id="attachment.id"><i class="fa fa-trash"></i> Supprimer</button>
                                                        </div>

                                                    </t>

                                                </div>

                                            </div>
                                        
                                        <br/>


                                        <br/>

                                        <div class="clearfix oe_login_buttons" style="margin-left:550px">
                                            <button type="submit" class="btn btn-primary pull-left btn-lg" id="toggle-button" >Enregistrer</button>
                                        </div>

                                        <script type="text/javascript">

                                            document.addEventListener("DOMContentLoaded", function() {
                                                // Access the template values in JavaScript
                                                var recordId = parseInt("<t t-esc='ticket.id'/>");
                                                var type_contrat = "<t t-esc='ticket.type_contrat'/>";
                                                

                                                var label_date_de_debut_souhaite = document.getElementById("label_date_de_debut_souhaite");
                                                var date_de_debut_souhaite = document.getElementById("date_de_debut_souhaite");

                                                var label_date_de_debut = document.getElementById("label_date_de_debut");
                                                var date_de_debut = document.getElementById("date_de_debut");

                                                var label_date_de_fin = document.getElementById("label_date_de_fin");
                                                var date_de_fin = document.getElementById("date_de_fin");

                                                if (type_contrat == "CDI")
                                                    {
                                                        label_date_de_debut_souhaite.style.display = 'block';
                                                        date_de_debut_souhaite.style.display = 'block';
                                                        date_de_debut_souhaite.setAttribute('required', '');

                                                        label_date_de_debut.style.display = 'none';
                                                        date_de_debut.style.display = 'none';
                                                        date_de_debut.removeAttribute('required');

                                                        label_date_de_fin.style.display = 'none';
                                                        date_de_fin.style.display = 'none';
                                                        date_de_fin.removeAttribute('required');
                                                    }
                                                else if (type_contrat == "CDD" || type_contrat == "Saisonnier" || type_contrat == "Stage" || type_contrat == "Alternant")
                                                    {
                                                        label_date_de_debut.style.display = 'block';
                                                        date_de_debut.style.display = 'block';
                                                        date_de_debut.setAttribute('required', '');

                                                        label_date_de_fin.style.display = 'block';
                                                        date_de_fin.style.display = 'block';
                                                        date_de_fin.setAttribute('required', '');
                                                        
                                                        label_date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.removeAttribute('required');
                                                    }
                                                else
                                                    {
                                                        label_date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.removeAttribute('required');

                                                        label_date_de_debut.style.display = 'none';
                                                        date_de_debut.style.display = 'none';
                                                        date_de_debut.removeAttribute('required');

                                                        label_date_de_fin.style.display = 'none';
                                                        date_de_fin.style.display = 'none';
                                                        date_de_fin.removeAttribute('required');
                                                    }


                                                var dr_metier_commerce_ids = <t t-esc="dr_metier_commerce_ids"/>;
                                                var dr_metier_autre_ids = <t t-esc="dr_metier_autre_ids"/>;

                                                var metier_a_choisir_id = "<t t-esc='ticket.metier_a_choisir_id.id'/>";
                                                var commercial = document.getElementById("commercial");

                                                var poste_a_choisir = document.getElementById("poste_a_choisir");
                                                var poste_a_choisir_div = document.getElementById("poste_a_choisir_div");

                                                var poste_a_choisir_autre = document.getElementById("poste_a_choisir_autre");
                                                var poste_a_choisir_autre_div = document.getElementById("poste_a_choisir_autre_div");

                                                if (dr_metier_commerce_ids.includes(Number(metier_a_choisir_id)))
                                                    {
                                                        
                                                        commercial.style.display = 'block';
                                                    }
                                                else
                                                    {

                                                        commercial.style.display = 'none';
                                                    } 


                                                if (dr_metier_autre_ids.includes(Number(metier_a_choisir_id)))
                                                    {
                                                        
                                                        poste_a_choisir_autre_div.style.display = 'block';
                                                        poste_a_choisir_autre.setAttribute('required', '');

                                                        poste_a_choisir_div.style.display = 'none';
                                                        poste_a_choisir.removeAttribute('required');

                                                    }
                                                else
                                                    {

                                                        poste_a_choisir_autre_div.style.display = 'none';
                                                        poste_a_choisir_autre.removeAttribute('required');

                                                        poste_a_choisir_div.style.display = 'block';
                                                        poste_a_choisir.setAttribute('required', '');
                                                    } 

                                                

                                                var motif_de_recrutement = "<t t-esc='ticket.motif_de_recrutement'/>";
                                                var label_si_remplacement_qui = document.getElementById("label_si_remplacement_qui");
                                                var si_remplacement_qui = document.getElementById("si_remplacement_qui");

                                                if (motif_de_recrutement == "Remplacement Départ CDI" || motif_de_recrutement == "Remplacement Départ CDD" || motif_de_recrutement == "Remplacement interimaire" || motif_de_recrutement == "Remplacement CDI AML/AT/etc.")
                                                    {
                                                        label_si_remplacement_qui.style.display = 'block';
                                                        si_remplacement_qui.style.display = 'block';
                                                        si_remplacement_qui.setAttribute('required', '');
                                                    }
                                                else
                                                    {
                                                        label_si_remplacement_qui.style.display = 'none';
                                                        si_remplacement_qui.style.display = 'none';
                                                        si_remplacement_qui.removeAttribute('required');
                                                    }

                                                });


                                        </script>

                                        
                                    </form>

                                </t>

                                <t t-else="">

                                    <form id="demande_recrutement_form_open" role="form">
                                        
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <br/>
                                        <input type="hidden" name="demande_recrutement_id" t-att-value="ticket.id"/>
                                        <input type="hidden" name="demande_recrutement_poste_a_choisir_id" t-att-value="ticket.poste_a_choisir.id"/>
                                        <input type="hidden" name="demande_recrutement_metier_a_choisir_id" id="demande_recrutement_metier_a_choisir_id" t-att-value="ticket.metier_a_choisir_id.id"/>
                                        

                                        <div style="overflow: hidden;position:relative">
                                    
                                            <div style="float:left;width:45%;">

                                                <label for="nom_du_demandeur_a_afficher" class="control-label"><strong>Nom du demandeur</strong></label>
                                                <input type="text" name="nom_du_demandeur_a_afficher" class="form-control" t-att-value="ticket.partner_id.name" readonly="1"/>
                                                <br/>

                                                <t t-set="res_partner_records" t-value="request.env['res.partner'].sudo().search([])"/>
                                                <label for="manager_recrutement" id="label_manager_recrutement">Manager</label>
                                                <select id="manager_recrutement" name="manager_recrutement" class="form-select" disabled="disabled">
                                                    <option value=""></option>
                                                    <t t-foreach="res_partner_records" t-as="record">
                                                        <option t-att-value="record.id" t-att-selected="ticket.manager_recrutement.id == record.id and 'selected' or None"><t t-esc="record.name"/></option>
                                                    </t>

                                                </select>
                                                <br/>

                                                <label for="etablissement" class="control-label"><strong>Site de recrutement</strong></label>
                                                <select id="etablissement" name="etablissement" class="form-select" onchange="OnChange_etablissement_select(this)" disabled="disabled">
                                                    <option value=""></option>
                                                    <option value="MONTAIGU" t-att-selected="ticket.etablissement == 'MONTAIGU' and 'selected' or None">MONTAIGU</option>
                                                    <option value="LISSES" t-att-selected="ticket.etablissement == 'LISSES' and 'selected' or None">LISSES</option>
                                                    <option value="PARIS" t-att-selected="ticket.etablissement == 'PARIS' and 'selected' or None">PARIS</option>
                                                    <option value="GESLOT" t-att-selected="ticket.etablissement == 'GESLOT' and 'selected' or None">GESLOT</option>
                                                    <option value="BOURGOIN" t-att-selected="ticket.etablissement == 'BOURGOIN' and 'selected' or None">BOURGOIN</option>
                                                    <option value="CASTELNAU" t-att-selected="ticket.etablissement == 'CASTELNAU' and 'selected' or None">CASTELNAU</option>


                                                </select>
                                                <br/>

                                                <label for="rrh" class="control-label"><strong>RRH</strong></label>
                                                <select id="rrh" name="rrh" class="form-select"  disabled="disabled">
                                                    <option value=""></option>
                                                    <option value="Juliette FABIEN" t-att-selected="ticket.rrh == 'Juliette FABIEN' and 'selected' or None">Juliette FABIEN</option>
                                                    <option value="Carole LARRAUD" t-att-selected="ticket.rrh == 'Carole LARRAUD' and 'selected' or None">Carole LARRAUD</option>
                                                    <option value="Coralie BERTHET" t-att-selected="ticket.rrh == 'Coralie BERTHET' and 'selected' or None">Coralie BERTHET</option>

                                                </select>
                                                <br/>

                                                <t t-set="dr_direction_records" t-value="request.env['dr.direction'].sudo().search([])"/>
                                                <label for="direction_a_choisir_id" id="label_direction_a_choisir_id">Direction</label>
                                                <select id="direction_a_choisir_id" name="direction_a_choisir_id" class="form-select" disabled="disabled">
                                                    <option value=""></option>
                                                    <t t-foreach="dr_direction_records" t-as="record">
                                                        <option t-att-value="record.id" t-att-selected="ticket.direction_a_choisir_id.id == record.id and 'selected' or None"><t t-esc="record.name"/></option>
                                                    </t>

                                                </select>
                                                <br/>

                                                <t t-set="dr_direction_records" t-value="request.env['dr.direction'].sudo().search([])"/>
                                                <label for="direction_a_choisir_id" id="label_direction_a_choisir_id">Direction</label>
                                                <select id="direction_a_choisir_id" name="direction_a_choisir_id" class="form-select"  disabled="disabled">
                                                    <option value=""></option>
                                                    <t t-foreach="dr_direction_records" t-as="record">
                                                        <option t-att-value="record.id" t-att-selected="ticket.direction_a_choisir_id.id == record.id and 'selected' or None"><t t-esc="record.name"/></option>
                                                    </t>

                                                </select>
                                                <br/>

                                                <label for="metier_a_choisir_id" id="label_metier_a_choisir_id">Métier</label>
                                                <select id="metier_a_choisir_id" name="metier_a_choisir_id" class="form-select"  disabled="disabled">
                                                    <option value=""></option>
                                                    
                                                </select>
                                                <br/>

                                                <div id="poste_a_choisir_div">
                                                    <label for="poste_a_choisir" id="label_poste_a_choisir">Poste</label>
                                                    <select id="poste_a_choisir" name="poste_a_choisir" class="form-select"  disabled="disabled">
                                                        <option value=""></option>
                                                        
                                                    </select>
                                                    <br/>
                                                </div>

                                                <div id="poste_a_choisir_autre_div" style="display:none">
                                                    <label for="poste_a_choisir_autre" id="label_poste_a_choisir_autre" class="control-label"><strong>Poste</strong></label>
                                                    <input type="text" id="poste_a_choisir_autre" name="poste_a_choisir_autre" class="form-control"  t-att-value="ticket.poste_a_choisir_autre" readonly="1"/>
                                                    <br/>
                                                </div>

                                                <label for="commentaire_demandeur" id="label_commentaire_demandeur" class="control-label"><strong>Commentaire</strong></label>
                                                <input type="text" id="commentaire_demandeur" name="commentaire_demandeur" class="form-control"  t-att-value="ticket.commentaire_demandeur" readonly="1"/>


                                                

                                            </div>

                                            <div style="float:right;width:45%">

                                                <label for="date_de_creation_a_afficher" class="control-label"><strong>Date de création</strong></label>
                                                <input type="text" name="date_de_creation_a_afficher" class="form-control" t-att-value="ticket.date_de_creation_a_afficher.strftime('%d/%m/%Y')" readonly="1"/>
                                                

                                                <br/>
                                                <label for="motif_de_recrutement" class="control-label"><strong>Motif de recrutement</strong></label>
                                                <select id="motif_de_recrutement" name="motif_de_recrutement" class="form-select" onchange="OnChange_motif_de_recrutement_select(this)"  disabled="disabled">
                                                    <option value=""></option>
                                                    <option value="Création" t-att-selected="ticket.motif_de_recrutement == 'Création' and 'selected' or None">Création</option>
                                                    <option value="Remplacement Départ CDI" t-att-selected="ticket.motif_de_recrutement == 'Remplacement Départ CDI' and 'selected' or None">Remplacement Départ CDI</option>
                                                    <option value="Remplacement Départ CDD" t-att-selected="ticket.motif_de_recrutement == 'Remplacement Départ CDD' and 'selected' or None">Remplacement Départ CDD</option>
                                                    <option value="Remplacement interimaire" t-att-selected="ticket.motif_de_recrutement == 'Remplacement interimaire' and 'selected' or None">Remplacement interimaire</option>
                                                    <option value="Remplacement CDI AML/AT/etc." t-att-selected="ticket.motif_de_recrutement == 'Remplacement CDI AML/AT/etc.' and 'selected' or None">Remplacement CDI AML/AT/etc.</option>
                                                </select>

                                                <br/>

                                                
                                                <label for="si_remplacement_qui" id="label_si_remplacement_qui" class="control-label" style="display:none"><strong>Personne remplacée</strong></label>
                                                <input type="text" name="si_remplacement_qui" id="si_remplacement_qui" t-att-value="ticket.si_remplacement_qui" class="form-control" readonly="1"  style="display:none"/>
                                                
                                                
                                                <br/>
                                                <label for="type_contrat" class="control-label"><strong>Type de contrat souhaité</strong></label>
                                                <select id="type_contrat" name="type_contrat" class="form-select" onchange="OnChange_type_contrat_select(this)" disabled="disabled">
                                                    <option value=""></option>
                                                    <option value="CDI" t-att-selected="ticket.type_contrat == 'CDI' and 'selected' or None">CDI</option>
                                                    <option value="CDD" t-att-selected="ticket.type_contrat == 'CDD' and 'selected' or None">CDD</option>
                                                    <option value="Saisonnier" t-att-selected="ticket.type_contrat == 'Saisonnier' and 'selected' or None">Saisonnier</option>
                                                    <option value="Stage" t-att-selected="ticket.type_contrat == 'Stage' and 'selected' or None">Stage</option>
                                                    <option value="Alternant" t-att-selected="ticket.type_contrat == 'Alternant' and 'selected' or None">Alternant</option>
                                                </select>
                                                <br/>

                                                <label for="date_de_debut_souhaite" id="label_date_de_debut_souhaite" class="control-label"><strong>Date de début souhaitée</strong></label>
                                                <input type="date" id ="date_de_debut_souhaite" name="date_de_debut_souhaite" class="form-control" t-att-value="ticket.date_de_debut_souhaite" readonly="1"/>
                                                <br/>
                                            
                                                <label for="date_de_debut" id="label_date_de_debut" class="control-label"><strong>Date de début</strong></label>
                                                <input type="date" id ="date_de_debut" name="date_de_debut" class="form-control" t-att-value="ticket.date_de_debut" readonly="1"/>
                                                <br/>

                                                <label for="date_de_fin" id="label_date_de_fin" class="control-label"><strong>Date de fin</strong></label>
                                                <input type="date" data-date-format="YYYY-MM-DD" id ="date_de_fin" name="date_de_fin" class="form-control" t-att-value="ticket.date_de_fin" readonly="1"/>
                                                <br/>


                                                
                                                <label for="missions_principales" class="control-label"><strong>Missions principales</strong></label>
                                                <input type="text" name="missions_principales" class="form-control" t-att-value="ticket.missions_principales" readonly="1"/>

                                                <br/>
                                                        
                                            </div>

                                        </div>
                                        <br/>


                                            <div id="commercial" style="overflow: hidden;position:relative;">
                                        
                                                <div style="float:left;width:45%;">

                                                    <label for="secteur_geographique" id="label_secteur_geographique" class="control-label"><strong>Secteur géographique</strong></label>
                                                    <input type="text" name="secteur_geographique" id="secteur_geographique" t-att-value="ticket.secteur_geographique" class="form-control" readonly="1"/>
                                                    
                                                    <br/>
                                                    <label for="specificite_clients" id="label_specificite_clients" class="control-label"><strong>Type Clientèle</strong></label>
                                                    <select id="specificite_clients" name="specificite_clients" class="form-select" disabled="disabled">
                                                        <option value=""></option>
                                                        <option value="Détail" t-att-selected="ticket.specificite_clients == 'Détail' and 'selected' or None">Détail</option>
                                                        <option value="Pétrolier" t-att-selected="ticket.specificite_clients == 'Pétrolier' and 'selected' or None">Pétrolier</option>
                                                        <option value="GMS" t-att-selected="ticket.specificite_clients == 'GMS' and 'selected' or None">GMS</option>
                                                        <option value="Hybride" t-att-selected="ticket.specificite_clients == 'Hybride' and 'selected' or None">Hybride</option>
                                                        <option value="Autres" t-att-selected="ticket.specificite_clients == 'Autres' and 'selected' or None">Autres</option>
                                                    </select>

                                                    <br/>
                                                    <label for="lieu_habitation_souhaite" id="label_lieu_habitation_souhaite" class="control-label"><strong>Lieu d’habitation souhaité</strong></label>
                                                    <input type="text" name="lieu_habitation_souhaite" id="lieu_habitation_souhaite" class="form-control" t-att-value="ticket.lieu_habitation_souhaite" readonly="1"/>

                                                </div>

                                                <div style="float:right;width:45%">
                                                    <table class="table" border="0">
                                                    <tr>
                                                        <th width="50%"></th>
                                                        <th>Actuel</th>
                                                        <th>Visé</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Chiffre d’affaires du secteur</th>
                                                        <td><input type="text" name="chiffre_affaires_du_secteur_actuel" class="form-control" t-att-value="ticket.chiffre_affaires_du_secteur_actuel" readonly="1"/></td>
                                                        <td><input type="text" name="chiffre_affaires_du_secteur_vise" class="form-control" t-att-value="ticket.chiffre_affaires_du_secteur_vise" readonly="1"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Evaluation rémunération annuelle</th>
                                                        <td><input type="text" name="evaluation_remuneration_annuelle_actuel" class="form-control" t-att-value="ticket.evaluation_remuneration_annuelle_actuel" readonly="1"/></td>
                                                        <td><input type="text" name="evaluation_remuneration_annuelle_vise" class="form-control" t-att-value="ticket.evaluation_remuneration_annuelle_vise" readonly="1"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Garantie de salaire</th>
                                                        <td><input type="text" name="garantie_de_salaire_actuel" class="form-control" t-att-value="ticket.garantie_de_salaire_actuel" readonly="1"/></td>
                                                        <td><input type="text" name="garantie_de_salaire_vise" class="form-control" t-att-value="ticket.garantie_de_salaire_vise" readonly="1"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Nombre de clients</th>
                                                        <td><input type="text" name="nombre_de_clients_actuel" class="form-control" t-att-value="ticket.nombre_de_clients_actuel" readonly="1"/></td>
                                                        <td><input type="text" name="nombre_de_clients_vise" class="form-control" t-att-value="ticket.nombre_de_clients_vise" readonly="1"/></td>
                                                    </tr>
                                                    <tr>
                                                        <th>Panier moyen</th>
                                                        <td><input type="text" name="panier_moyen_actuel" class="form-control" t-att-value="ticket.panier_moyen_actuel" readonly="1"/></td>
                                                        <td><input type="text" name="panier_moyen_vise" class="form-control" t-att-value="ticket.panier_moyen_vise" readonly="1"/></td>
                                                    </tr>
                                                    
                                                </table>

                                                    <br/>
                                                    <label for="attachment" id="label_piece_jointe" class="control-label"><strong>Pièce jointe</strong></label>
                                                    <input type="file" id="upload_files" name="upload_files" multiple="multiple" disabled="disabled"/>
                                                    <br/>
                                                    <t t-foreach="attachement_records" t-as="attachment">
                                                        <div t-att-id="'attachment-div-oe-att-'+str(attachment.id)">

                                                            <a t-att-href="'/download/file/%s' % attachment.id">
                                                                <t t-esc="attachment.name"/>
                                                            </a>
                                                            <!-- <button type="button" class="btn btn-danger btn-delete-attachment" t-att-data-id="attachment.id"><i class="fa fa-trash"></i> Supprimer</button> -->
                                                        </div>
                                                    </t>

                                                </div>

                                            </div>
                                        
                                        <br/>
                                
                                        <br/>
                                        <div class="clearfix oe_login_buttons" style="margin-left:550px">
                                            <button class="btn btn-primary pull-left btn-lg"><a class="btn btn-primary" href="/my/home">Retourner</a></button>
                                        </div>

                                        <script type="text/javascript">

                                            document.addEventListener("DOMContentLoaded", function() {
                                                // Access the template values in JavaScript
                                                var recordId = parseInt("<t t-esc='ticket.id'/>");
                                                var type_contrat = "<t t-esc='ticket.type_contrat'/>";
                                                

                                                var label_date_de_debut_souhaite = document.getElementById("label_date_de_debut_souhaite");
                                                var date_de_debut_souhaite = document.getElementById("date_de_debut_souhaite");

                                                var label_date_de_debut = document.getElementById("label_date_de_debut");
                                                var date_de_debut = document.getElementById("date_de_debut");

                                                var label_date_de_fin = document.getElementById("label_date_de_fin");
                                                var date_de_fin = document.getElementById("date_de_fin");

                                                if (type_contrat == "CDI")
                                                    {
                                                        label_date_de_debut_souhaite.style.display = 'block';
                                                        date_de_debut_souhaite.style.display = 'block';
                                                        date_de_debut_souhaite.setAttribute('required', '');

                                                        label_date_de_debut.style.display = 'none';
                                                        date_de_debut.style.display = 'none';
                                                        date_de_debut.removeAttribute('required');

                                                        label_date_de_fin.style.display = 'none';
                                                        date_de_fin.style.display = 'none';
                                                        date_de_fin.removeAttribute('required');
                                                    }
                                                else if (type_contrat == "CDD" || type_contrat == "Saisonnier" || type_contrat == "Stage" || type_contrat == "Alternant")
                                                    {
                                                        label_date_de_debut.style.display = 'block';
                                                        date_de_debut.style.display = 'block';
                                                        date_de_debut.setAttribute('required', '');

                                                        label_date_de_fin.style.display = 'block';
                                                        date_de_fin.style.display = 'block';
                                                        date_de_fin.setAttribute('required', '');
                                                        
                                                        label_date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.removeAttribute('required');
                                                    }
                                                else
                                                    {
                                                        label_date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.style.display = 'none';
                                                        date_de_debut_souhaite.removeAttribute('required');

                                                        label_date_de_debut.style.display = 'none';
                                                        date_de_debut.style.display = 'none';
                                                        date_de_debut.removeAttribute('required');

                                                        label_date_de_fin.style.display = 'none';
                                                        date_de_fin.style.display = 'none';
                                                        date_de_fin.removeAttribute('required');
                                                    }


                                                var dr_metier_commerce_ids = <t t-esc="dr_metier_commerce_ids"/>;
                                                var dr_metier_autre_ids = <t t-esc="dr_metier_autre_ids"/>;

                                                var metier_a_choisir_id = "<t t-esc='ticket.metier_a_choisir_id.id'/>";
                                                var commercial = document.getElementById("commercial");

                                                var poste_a_choisir = document.getElementById("poste_a_choisir");
                                                var poste_a_choisir_div = document.getElementById("poste_a_choisir_div");

                                                var poste_a_choisir_autre = document.getElementById("poste_a_choisir_autre");
                                                var poste_a_choisir_autre_div = document.getElementById("poste_a_choisir_autre_div");

                                                console.log(metier_a_choisir_id.value);
                                                console.log(dr_metier_commerce_ids);

                                                if (dr_metier_commerce_ids.includes(Number(metier_a_choisir_id)))
                                                    {
                                                        
                                                        commercial.style.display = 'block';
                                                    }
                                                else
                                                    {

                                                        commercial.style.display = 'none';
                                                    } 


                                                if (dr_metier_autre_ids.includes(Number(metier_a_choisir_id)))
                                                    {
                                                        
                                                        poste_a_choisir_autre_div.style.display = 'block';
                                                        poste_a_choisir_autre.setAttribute('required', '');

                                                        poste_a_choisir_div.style.display = 'none';
                                                        poste_a_choisir.removeAttribute('required');

                                                    }
                                                else
                                                    {

                                                        poste_a_choisir_autre_div.style.display = 'none';
                                                        poste_a_choisir_autre.removeAttribute('required');

                                                        poste_a_choisir_div.style.display = 'block';
                                                        poste_a_choisir.setAttribute('required', '');
                                                    } 

                                                 

                                                var motif_de_recrutement = "<t t-esc='ticket.motif_de_recrutement'/>";
                                                var label_si_remplacement_qui = document.getElementById("label_si_remplacement_qui");
                                                var si_remplacement_qui = document.getElementById("si_remplacement_qui");

                                                if (motif_de_recrutement == "Remplacement Départ CDI" || motif_de_recrutement == "Remplacement Départ CDD" || motif_de_recrutement == "Remplacement interimaire" || motif_de_recrutement == "Remplacement CDI AML/AT/etc.")
                                                    {
                                                        label_si_remplacement_qui.style.display = 'block';
                                                        si_remplacement_qui.style.display = 'block';
                                                        si_remplacement_qui.setAttribute('required', '');
                                                    }
                                                else
                                                    {
                                                        label_si_remplacement_qui.style.display = 'none';
                                                        si_remplacement_qui.style.display = 'none';
                                                        si_remplacement_qui.removeAttribute('required');
                                                    }

                                                });


                                        </script>
                                    </form>
                                    

                                </t>



                            </div>

                        </div>
                </div>
                </div>
            </div>
            <!-- begin js code -->
        <script type="text/javascript">

            document.querySelector("form").addEventListener("submit", function() {
                document.getElementById("rrh").disabled = false;
            });

            

            function OnChange_metier_a_choisir_id_select(obj) {


                //console.log("enter in onchange from xml");
                var dr_metier_commerce_ids = <t t-esc="dr_metier_commerce_ids"/>;
                var dr_metier_autre_ids = <t t-esc="dr_metier_autre_ids"/>;

                var metier_a_choisir_id = document.getElementById("metier_a_choisir_id");
                var commercial = document.getElementById("commercial");

                var poste_a_choisir = document.getElementById("poste_a_choisir");
                var poste_a_choisir_div = document.getElementById("poste_a_choisir_div");

                var poste_a_choisir_autre = document.getElementById("poste_a_choisir_autre");
                var poste_a_choisir_autre_div = document.getElementById("poste_a_choisir_autre_div");

                
                if (dr_metier_commerce_ids.includes(Number(metier_a_choisir_id.value)))
                    {
                        
                        commercial.style.display = 'block';
                    }
                else
                    {

                        commercial.style.display = 'none';
                    } 


                if (dr_metier_autre_ids.includes(Number(metier_a_choisir_id.value)))
                    {
                        
                        poste_a_choisir_autre_div.style.display = 'block';
                        poste_a_choisir_autre.setAttribute('required', '');

                        poste_a_choisir_div.style.display = 'none';
                        poste_a_choisir.removeAttribute('required');

                    }
                else
                    {

                        poste_a_choisir_autre_div.style.display = 'none';
                        poste_a_choisir_autre.removeAttribute('required');

                        poste_a_choisir_div.style.display = 'block';
                        poste_a_choisir.setAttribute('required', '');
                    } 

                }


            function OnChange_etablissement_select(obj) {
                console.log("OnChange_etablissement_select")
                var etablissement = document.getElementById("etablissement");
                var rrh = document.getElementById("rrh");
                if (etablissement.value == "MONTAIGU" || etablissement.value == "CASTELNAU")
                    {
                        rrh.value= "Juliette FABIEN"
                    }
                else if (etablissement.value == "BOURGOIN")
                    {
                        rrh.value= "Coralie BERTHET"
                    }
                else if (etablissement.value == "GESLOT" || etablissement.value == "PARIS" || etablissement.value == "LISSES")
                    {
                        rrh.value= "Carole LARRAUD"
                    }
                else
                    {
                        rrh.value= false
                    }
                }


            function OnChange_type_contrat_select(obj) {
                console.log("OnChange_type_contrat_select")
                var type_contrat = document.getElementById("type_contrat");

                var label_date_de_debut_souhaite = document.getElementById("label_date_de_debut_souhaite");
                var date_de_debut_souhaite = document.getElementById("date_de_debut_souhaite");

                var label_date_de_debut = document.getElementById("label_date_de_debut");
                var date_de_debut = document.getElementById("date_de_debut");

                var label_date_de_fin = document.getElementById("label_date_de_fin");
                var date_de_fin = document.getElementById("date_de_fin");

                if (type_contrat.value == "CDI")
                    {
                        label_date_de_debut_souhaite.style.display = 'block';
                        date_de_debut_souhaite.style.display = 'block';
                        date_de_debut_souhaite.setAttribute('required', '');

                        label_date_de_debut.style.display = 'none';
                        date_de_debut.style.display = 'none';
                        date_de_debut.removeAttribute('required');

                        label_date_de_fin.style.display = 'none';
                        date_de_fin.style.display = 'none';
                        date_de_fin.removeAttribute('required');
                    }
                else if (type_contrat.value == "CDD" || type_contrat.value == "Saisonnier" || type_contrat.value == "Stage" || type_contrat.value == "Alternant")
                    {
                        label_date_de_debut.style.display = 'block';
                        date_de_debut.style.display = 'block';
                        date_de_debut.setAttribute('required', '');

                        label_date_de_fin.style.display = 'block';
                        date_de_fin.style.display = 'block';
                        date_de_fin.setAttribute('required', '');
                        
                        label_date_de_debut_souhaite.style.display = 'none';
                        date_de_debut_souhaite.style.display = 'none';
                        date_de_debut_souhaite.removeAttribute('required');
                    }
                else
                    {
                        label_date_de_debut_souhaite.style.display = 'none';
                        date_de_debut_souhaite.style.display = 'none';
                        date_de_debut_souhaite.removeAttribute('required');

                        label_date_de_debut.style.display = 'none';
                        date_de_debut.style.display = 'none';
                        date_de_debut.removeAttribute('required');

                        label_date_de_fin.style.display = 'none';
                        date_de_fin.style.display = 'none';
                        date_de_fin.removeAttribute('required');
                    }
                }


            function OnChange_motif_de_recrutement_select(obj) {
                var motif_de_recrutement = document.getElementById("motif_de_recrutement");

                var label_si_remplacement_qui = document.getElementById("label_si_remplacement_qui");
                var si_remplacement_qui = document.getElementById("si_remplacement_qui");

                if (motif_de_recrutement.value == "Remplacement Départ CDI" || motif_de_recrutement.value == "Remplacement Départ CDD" || motif_de_recrutement.value == "Remplacement interimaire" || motif_de_recrutement.value == "Remplacement CDI AML/AT/etc.")
                    {
                        label_si_remplacement_qui.style.display = 'block';
                        si_remplacement_qui.style.display = 'block';
                        si_remplacement_qui.setAttribute('required', '');
                    }
                else
                    {
                        label_si_remplacement_qui.style.display = 'none';
                        si_remplacement_qui.style.display = 'none';
                        si_remplacement_qui.removeAttribute('required');
                    }
                }


            




        </script>
        <!-- end js code -->
        </t>
        
    </template>





</data>

</odoo>
