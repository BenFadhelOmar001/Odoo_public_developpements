<odoo>
  <data>
   <record id="mrp_bom_inherit_form_common_view" model="ir.ui.view">
            <field name="name">mrp.bom.form</field>
            <field name="model">mrp.bom</field>
            <field name="inherit_id" ref="mrp.mrp_bom_form_view"/>
            <field name="arch" type="xml">


                <xpath expr="//page[1]/field[1]/tree[1]/field[@name='product_id']" position="attributes">

                   <attribute name="domain">[('sale_ok','=', False)]</attribute>


                </xpath>

            </field>
        </record>


      <record id="mrp_production_inherit_form_common_view" model="ir.ui.view">
            <field name="name">mrp.production.form</field>
            <field name="model">mrp.production</field>
            <field name="inherit_id" ref="mrp.mrp_production_form_view"/>
            <field name="arch" type="xml">


                <xpath expr="//page[1]/field[1]/tree[1]/field[@name='product_id']" position="attributes">

                   <attribute name="domain">[('sale_ok','=', False)]</attribute>


                </xpath>

            </field>
        </record>

      
  </data>
</odoo>